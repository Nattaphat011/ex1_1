<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>‚ú® ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏™‡∏∞‡∏ó‡πâ‡∏≠‡∏ô‡∏ï‡∏ô‡πÄ‡∏≠‡∏á ‚ú®</title>
  <link rel="icon" href="https://img.icons8.com/fluency/48/000000/mirror.png"/>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Kanit:wght@300;500;700&display=swap');

    body {
      font-family: "Kanit", sans-serif;
      margin: 0;
      padding: 20px;
      background: linear-gradient(135deg, #f9e0ff, #c3f0ff);
      color: #333;
    }
    h1 { text-align: center; color: #6a1b9a; margin-bottom: 10px; font-size: 2rem; }
    h2 { color: #4a148c; margin-top: 30px; font-size: 1.4rem; }

    .floating-img { display: block; margin: 0 auto 25px auto; width: 350px; animation: float 3s ease-in-out infinite; max-width: 40%; }
    @keyframes float { 0%,100% { transform: translateY(0);} 50% { transform: translateY(-12px);} }

    textarea, input {
      width: 100%; margin: 10px 0; padding: 12px; border-radius: 12px; border: none;
      box-shadow: 0 3px 6px rgba(0,0,0,0.1); font-size: 1rem; box-sizing: border-box;
    }
    button {
      background: linear-gradient(135deg, #7e57c2, #42a5f5); color: white; border: none;
      padding: 10px 18px; border-radius: 25px; cursor: pointer; font-size: 1rem;
      transition: transform 0.2s, box-shadow 0.2s;
    }
    button:hover { transform: scale(1.05); box-shadow: 0 4px 10px rgba(0,0,0,0.2); }

    .result { margin-top: 10px; background: rgba(255,255,255,0.9); padding: 12px; border-radius: 12px;
              box-shadow: 0 3px 6px rgba(0,0,0,0.1); font-size: 0.95rem; line-height: 1.6; }

    #musicBtn {
      position: fixed; top: 20px; right: 20px; width: 60px; height: 60px; border-radius: 50%;
      border: none; background: linear-gradient(135deg, #ff9a8b, #ff6a88); color: white;
      font-size: 22px; cursor: pointer; box-shadow: 0 4px 12px rgba(0,0,0,0.3);
    }
    #musicBtn:hover { transform: rotate(20deg) scale(1.1); }

    .animals { display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; margin: 15px 0; }
    .animal { padding: 15px; border-radius: 15px; box-shadow: 0 4px 8px rgba(0,0,0,0.1);
              cursor: pointer; transition: transform 0.2s; text-align: center; font-size: 1rem; color: white; }
    .animal:hover { transform: translateY(-4px); }
    .elephant{ background: #6d4c41; } .lion{ background: #ef6c00; }
    .pigeon{ background: #42a5f5; } .turtle{ background: #388e3c; }

    ul{ margin: 5px 0 0 20px; padding: 0; color: #333; }
    li{ margin: 4px 0; }
    em{ display: block; text-align: center; margin-bottom: 15px; font-size: 0.9em; color: #555; }

    img.goal-img { display: block; margin: 0 auto 20px; width: 100%; max-width: 350px;
                   border-radius: 15px; box-shadow: 0 4px 8px rgba(0,0,0,0.2); cursor: zoom-in; }

    .img-modal { display: none; position: fixed; z-index: 1000; padding-top: 60px;
                 left: 0; top: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.85); }
    .img-modal-content { margin: auto; display: block; max-width: 90%; max-height: 90%; border-radius: 15px; }
    .img-close { position: absolute; top: 20px; right: 30px; color: #fff; font-size: 40px; cursor: pointer; }
    .img-close:hover{ color:#ff6b6b; }

    @media(max-width:600px){ .animals{ grid-template-columns:1fr; } #musicBtn{ width:50px; height:50px; font-size:18px;} }
  </style>
</head>
<body>

  <img src="images/‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠1.jpg" alt="‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û" class="goal-img" id="myImage">
  <em>(‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÅ‡∏ï‡∏∞‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ç‡∏¢‡∏≤‡∏¢‡∏†‡∏≤‡∏û‡πÑ‡∏î‡πâ)</em>

  <img src="images/1.png" alt="‡πÇ‡∏•‡πÇ‡∏Å‡πâ‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏•‡∏±‡∏¢" class="floating-img">

  <div id="imgModal" class="img-modal">
    <span class="img-close">&times;</span>
    <img class="img-modal-content" id="imgModalContent">
    <div id="imgCaption"></div>
  </div>

  <!-- üéµ ‡πÄ‡∏û‡∏•‡∏á‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á -->
  <audio id="bgMusic" loop>
    <source src="https://www.bensound.com/bensound-music/bensound-sunny.mp3" type="audio/mp3">
  </audio>
  <button id="musicBtn" onclick="toggleMusic()">‚ñ∂Ô∏è</button>

  <h1>‚ú® ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏™‡∏∞‡∏ó‡πâ‡∏≠‡∏ô‡∏ï‡∏ô‡πÄ‡∏≠‡∏á ‚ú®</h1>

  <!-- ‚ú® ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° -->
  <h2>1. ‡∏™‡∏∞‡∏ó‡πâ‡∏≠‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏≠‡∏á ü™û</h2>
  <textarea id="selfMessage" rows="3" placeholder="‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏≤‡∏Å‡∏ö‡∏≠‡∏Å‡∏Å‡∏±‡∏ö‡∏ï‡∏±‡∏ß‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏≠‡∏á..."></textarea>
  <button onclick="saveMessage()">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°</button>
  <div class="result" id="messageResult"></div>

  <!-- ‚ú® ‡∏™‡∏±‡∏ï‡∏ß‡πå -->
  <h2>2. ‡∏™‡∏±‡∏ï‡∏ß‡πå 4 ‡∏ó‡∏¥‡∏® üêòü¶Åüê¶üê¢</h2>
  <p>‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏¥‡∏î‡∏ß‡πà‡∏≤‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏ä‡∏ô‡∏¥‡∏î‡πÉ‡∏î‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î?</p>
  <div class="animals">
    <div class="animal elephant" onclick="chooseAnimal('‡∏ä‡πâ‡∏≤‡∏á')">üêò<br>‡∏ä‡πâ‡∏≤‡∏á (‡πÄ‡∏´‡∏ô‡∏∑‡∏≠)</div>
    <div class="animal lion" onclick="chooseAnimal('‡∏™‡∏¥‡∏á‡πÇ‡∏ï')">ü¶Å<br>‡∏™‡∏¥‡∏á‡πÇ‡∏ï (‡∏ï‡∏∞‡∏ß‡∏±‡∏ô‡∏ï‡∏Å)</div>
    <div class="animal pigeon" onclick="chooseAnimal('‡∏ô‡∏Å‡∏û‡∏¥‡∏£‡∏≤‡∏ö')">üê¶<br>‡∏ô‡∏Å‡∏û‡∏¥‡∏£‡∏≤‡∏ö (‡∏ï‡∏∞‡∏ß‡∏±‡∏ô‡∏≠‡∏≠‡∏Å)</div>
    <div class="animal turtle" onclick="chooseAnimal('‡πÄ‡∏ï‡πà‡∏≤')">üê¢<br>‡πÄ‡∏ï‡πà‡∏≤ (‡πÉ‡∏ï‡πâ)</div>
  </div>
  <input type="number" id="percent" placeholder="‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏Å‡∏µ‡πà % (0-100)">
  <button onclick="saveAnimal()">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô</button>
  <div class="result" id="animalResult"></div>

  <!-- ‚ú® ‡∏™‡∏∞‡∏û‡∏≤‡∏ô -->
  <h2>3. ‡∏™‡∏∞‡∏û‡∏≤‡∏ô‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏≠‡∏î‡∏µ‡∏ï-‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô-‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï üåâ</h2>
  <p>‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏Ñ‡∏¢‡∏ó‡∏≥‡πÅ‡∏•‡πâ‡∏ß‡∏†‡∏π‡∏°‡∏¥‡πÉ‡∏à</p><textarea id="past" rows="2"></textarea>
  <p>‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏≥‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏ï‡∏ô‡πÄ‡∏≠‡∏á</p><textarea id="present" rows="2"></textarea>
  <p>‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏¢‡∏≤‡∏Å‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à</p><textarea id="future" rows="2"></textarea>
  <button onclick="saveBridge()">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î</button>
  <div class="result" id="bridgeResult"></div>

<script>
  // ‚úÖ ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô URL ‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô URL Web App ‡∏Ç‡∏≠‡∏á Google Apps Script ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì
  const GAS_URL = "https://script.google.com/macros/s/AKfycbxN77Y4YOIH0vC1-ePXPztS7o1RHPD6hRehjfh9xgQbVNJx6GMVT6XaHabde8EvwgiE/exec";

  async function saveToSheet(type, message) {
    try {
      let res = await fetch(GAS_URL, {
        method: "POST",
        body: JSON.stringify({ type: type, message: message }),
        headers: { "Content-Type": "application/json" }
      });
      let data = await res.json();
      console.log("‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÅ‡∏•‡πâ‡∏ß:", data);
    } catch (err) {
      console.error("Error:", err);
    }
  }

  // üéµ ‡πÄ‡∏û‡∏•‡∏á
  const music = document.getElementById("bgMusic");
  const btn = document.getElementById("musicBtn");
  function toggleMusic() {
    if (music.paused) { music.play(); btn.textContent = "‚è∏Ô∏è"; }
    else { music.pause(); btn.textContent = "‚ñ∂Ô∏è"; }
  }

  // üéØ ‡∏™‡∏∞‡∏ó‡πâ‡∏≠‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å
  function saveMessage() {
    let msg = document.getElementById('selfMessage').value;
    document.getElementById('messageResult').innerHTML = "üíå ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì:<br>" + msg;
    saveToSheet("selfMessage", msg);
  }

  // üêæ ‡∏™‡∏±‡∏ï‡∏ß‡πå 4 ‡∏ó‡∏¥‡∏®
  const animalInfo = {
    "‡∏ä‡πâ‡∏≤‡∏á": { icon:"üêò", desc:"‡∏Ñ‡∏ß‡∏≤‡∏°‡∏≠‡∏î‡∏ó‡∏ô‡πÅ‡∏•‡∏∞‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á", color:"#6d4c41",
      detail:`<ul><li>‡∏≠‡∏î‡∏ó‡∏ô ‡∏´‡∏ô‡∏±‡∏Å‡πÅ‡∏ô‡πà‡∏ô</li><li>‡∏Ñ‡∏ß‡∏£‡∏£‡∏∞‡∏ß‡∏±‡∏á: ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ä‡πâ‡∏≤</li></ul>` },
    "‡∏™‡∏¥‡∏á‡πÇ‡∏ï": { icon:"ü¶Å", desc:"‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏•‡πâ‡∏≤‡πÅ‡∏•‡∏∞‡∏ú‡∏π‡πâ‡∏ô‡∏≥", color:"#ef6c00",
      detail:`<ul><li>‡∏Å‡∏•‡πâ‡∏≤‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à</li><li>‡∏Ñ‡∏ß‡∏£‡∏£‡∏∞‡∏ß‡∏±‡∏á: ‡πÉ‡∏à‡∏£‡πâ‡∏≠‡∏ô</li></ul>` },
    "‡∏ô‡∏Å‡∏û‡∏¥‡∏£‡∏≤‡∏ö": { icon:"üê¶", desc:"‡∏≠‡πà‡∏≠‡∏ô‡πÇ‡∏¢‡∏ô‡πÅ‡∏•‡∏∞‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£", color:"#42a5f5",
      detail:`<ul><li>‡πÉ‡∏à‡∏î‡∏µ ‡∏≠‡πà‡∏≠‡∏ô‡πÇ‡∏¢‡∏ô</li><li>‡∏Ñ‡∏ß‡∏£‡∏£‡∏∞‡∏ß‡∏±‡∏á: ‡∏Ç‡∏µ‡πâ‡πÄ‡∏Å‡∏£‡∏á‡πÉ‡∏à</li></ul>` },
    "‡πÄ‡∏ï‡πà‡∏≤": { icon:"üê¢", desc:"‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏£‡∏≠‡∏ö‡∏Ñ‡∏≠‡∏ö", color:"#388e3c",
      detail:`<ul><li>‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏∞‡∏ö‡∏ö</li><li>‡∏Ñ‡∏ß‡∏£‡∏£‡∏∞‡∏ß‡∏±‡∏á: ‡∏Å‡∏î‡∏î‡∏±‡∏ô‡∏á‡πà‡∏≤‡∏¢</li></ul>` }
  };

  let chosenAnimal = "";
  function chooseAnimal(animal) {
    chosenAnimal = animal;
    const a = animalInfo[animal];
    document.getElementById('animalResult').innerHTML =
      `<div style="border-left:8px solid ${a.color};padding:10px;">
        ‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏•‡∏∑‡∏≠‡∏Å <b style="color:${a.color}">${a.icon} ${animal}</b><br><em>${a.desc}</em><br>${a.detail}
      </div>`;
  }

  function saveAnimal() {
    let percent = document.getElementById('percent').value;
    if (!chosenAnimal) { alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏Å‡πà‡∏≠‡∏ô!"); return; }
    const a = animalInfo[chosenAnimal];
    let text = `‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏∑‡∏≠ ${a.icon} ${chosenAnimal} ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡∏Ñ‡∏∏‡∏ì ${percent}% | ${a.desc}`;
    document.getElementById('animalResult').innerHTML =
      `<div style="border-left:8px solid ${a.color};padding:10px;">
        üêæ ${text}<br>${a.detail}
      </div>`;
    saveToSheet("animal", text);
  }

  // üåâ ‡∏™‡∏∞‡∏û‡∏≤‡∏ô
  function saveBridge() {
    let past = document.getElementById('past').value;
    let present = document.getElementById('present').value;
    let future = document.getElementById('future').value;
    let text = `‡∏≠‡∏î‡∏µ‡∏ï: ${past} | ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô: ${present} | ‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï: ${future}`;
    document.getElementById('bridgeResult').innerHTML =
      `<b>‡∏≠‡∏î‡∏µ‡∏ï:</b> ${past}<br><b>‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô:</b> ${present}<br><b>‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï:</b> ${future}`;
    saveToSheet("bridge", text);
  }

  // üì∏ Modal Image
  const modal = document.getElementById('imgModal');
  const img = document.getElementById('myImage');
  const modalImg = document.getElementById('imgModalContent');
  const caption = document.getElementById('imgCaption');
  const closeBtn = document.getElementsByClassName('img-close')[0];
  img.onclick = ()=>{ modal.style.display="block"; modalImg.src=img.src; caption.innerHTML=img.alt; }
  closeBtn.onclick = ()=>{ modal.style.display="none"; }
  modal.onclick = (e)=>{ if(e.target===modal){ modal.style.display="none"; } }
</script>
</body>
</html>
